var App=function(){"use strict";var t=Object.freeze({__proto__:null});function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listeners={}}var n,i,s;return n=t,(i=[{key:"addEventListener",value:function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"on",value:function(t,e){return this.addEventListener(t,e),this}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var n=this.listeners[t],i=0,s=n.length;i<s;i++)if(n[i]===e)return n.splice(i,1),this.removeEventListener(t,e)}},{key:"off",value:function(t,e){return this.removeEventListener(t,e),this}},{key:"dispatchEvent",value:function(t){if(t.type in this.listeners){var e=this.listeners[t.type];Object.defineProperty(t,"target",{enumerable:!1,configurable:!1,writable:!1,value:this});for(var n=0,i=e.length;n<i;n++)e[n].call(this,t)}}}])&&e(n.prototype,i),s&&e(n,s),t}();function i(t){return t&&t.default||t}i(t);var s=function(t,e){n.call(this),this._container=t,this._options=e||{},this._max=this._options.max||1,this._current=this._options.current||1,this._container.innerHTML='<div class="pager"><span class="button">&ll;</span><span class="button">&lt;</span><span><input class="current" type="text" value="'+this._current.toString()+'"></span><span class="button">&gt;</span><span class="button">&gg;</span></div>',this._input=this._container.querySelector(".current"),this._input.addEventListener("change",this.choose.bind(this));var i=this._container.querySelectorAll(".button");i[0].addEventListener("click",this.start.bind(this)),i[1].addEventListener("click",this.back.bind(this)),i[2].addEventListener("click",this.forward.bind(this)),i[3].addEventListener("click",this.end.bind(this))};(s.prototype=Object.create(n.prototype)).constructor=s,s.prototype._change=function(){let t=document.createEvent("Event");t.initEvent("change",!1,!1),t.detail=this._current,this.dispatchEvent(t)},s.prototype.forward=function(){this._current=this._current+1<this._max?this._current+1:this._max,this._input.value=this._current.toString(),this._change()},s.prototype.back=function(){this._current=this._current-1>0?this._current-1:1,this._input.value=this._current.toString(),this._change()},s.prototype.start=function(){this._current=1,this._input.value=this._current.toString(),this._change()},s.prototype.end=function(){this._current=this._max,this._input.value=this._current.toString(),this._change()},s.prototype.choose=function(){var t=Number(this._input.value);!isNaN(t)&&t>0&&t<=this._max?this._current=t:this._input.value=this._current.toString(),this._change()};var r=s;i(Object.freeze({__proto__:null}));var o=function(t,e,n){this._container=t,this._options=e||{},this._container.innerHTML='<table class="grid"><tr><td class="content"></td></tr><tr><td class="footer"></td></tr></table>',this._content=this._container.querySelector(".content"),this._footer=this._container.querySelector(".footer");var i=Object.keys(this._options.columns);this._visibleColumns=[],this._columns=[];for(var s=0;s<i.length;++s){var o=i[s];-1!=this._options.visibleColumns.indexOf(o)&&(this._visibleColumns.push(s),this._columns.push(this._options.columns[o]))}this._current=1,this._pageSize=this._options.pageSize||1,this._pages=this._options.pages||1,this._onChange=n,this._pager=new r(this._footer,{max:this._pages,current:this._current}),this._pager.addEventListener("change",function(t){this.setPage(t.detail)}.bind(this)),this.setPage(this._current)};(o.prototype={setPage:function(t){if("function"==typeof this._onChange){var e=this._onChange(t,this._pageSize);this._render(e)}},_render:function(t){if(Array.isArray(t)&&t.length>0){var e="<table>";e+="<thead><tr>"+this._columns.map((function(t){return"<th>"+t.title+"</th>"})).join("")+"</tr></thead>",e+="<tbody>";for(var n=0;n<t.length;++n){e+=n%2!=0?'<tr class="even">':"<tr>";for(var i=t[n],s=0;s<this._visibleColumns.length;++s){e+="<td>",e+=i[this._visibleColumns[s]],e+="</td>"}e+="</tr>"}e+="</tbody>",e+="</table>",this._content.innerHTML=e}else this._content.innerHTML=""},start:function(){this._pager.start()},forward:function(){this._pager.forward()},back:function(){this._pager.back()},end:function(){this._pager.end()}}).constructor=o;var a=o;window.onload=function(){var t=document.querySelector("#app"),e={pageSize:25,visibleColumns:["VesselID","ObservationID","IcePassage#","RecordMSK","RecordUTC"],columns:COLUMNS};e.pages=Math.ceil(DB.length/e.pageSize);new a(t,e,(function(t,e){var n=(t-1)*e,i=t*e;return DB.slice(n,i)}))};return{}}();
//# sourceMappingURL=main.js.map
